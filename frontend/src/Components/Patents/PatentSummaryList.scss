.patent-summaries {
  .summaries-header {
    .header-actions {
      display: flex;
      align-items: center;
      gap: 8px;

      .highlighter-toggle-button {
        // Theme-adaptive background
        background-color: var(--bg-secondary, #f0f0f0);
        border: 1px solid var(--border-color, #ddd);
        border-radius: 4px;
        padding: 6px 10px;
        cursor: pointer;
        // Theme-adaptive text color
        color: var(--text-color, #444);
        transition: all 0.2s;
        
        &:hover {
          background-color: var(--bg-hover, #e0e0e0);
          color: var(--text-color-strong, #000);
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        // Active state for when highlighter is open - use theme-neutral green
        &.active {
          background-color: var(--highlight-color, #4caf50);
          color: white;
          border-color: var(--highlight-color-dark, #388e3c);
          
          &:hover {
            background-color: var(--highlight-color-dark, #388e3c);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
          }
        }
      }
    }
  }

  // Updated section for active highlighter state
  &.highlighter-active {
    // Add a subtle indicator at the top of the search results
    position: relative;
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background-color: var(--highlight-color, #4caf50);
      z-index: 1;
    }
    
    .highlighter-toggle-button {
      background-color: var(--highlight-color, #4caf50);
      color: white;
      border-color: var(--highlight-color-dark, #388e3c);
      
      &:hover {
        background-color: var(--highlight-color-dark, #388e3c);
      }
    }
  }

  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    
    .section-actions {
      display: flex;
      align-items: center;
      gap: 8px;
      
      .close-details {
        background-color: var(--bg-secondary, #f0f0f0);
        color: var(--text-color, #444);
        border: 1px solid var(--border-color, #ddd);
        border-radius: 4px;
        padding: 6px 10px;
        cursor: pointer;
        transition: all 0.2s;
        
        &:hover {
          background-color: var(--bg-hover, #e0e0e0);
          color: var(--text-color-strong, #000);
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
        }
      }
    }
  }
  
  // Style for highlighted elements
  .highlightable {
    // This ensures the text is selectable and can be highlighted
    user-select: text;
    
    // Style for highlighted terms (applied by PatentHighlighter component)
    .highlight-term {
      display: inline;
      border-radius: 2px;
      padding: 0 2px;
      margin: 0 1px;
      transition: all 0.2s;
      position: relative;
      
      // Add a slight border in dark mode for better visibility
      box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);
      
      // Ensure text is visible against the highlight color
      color: rgba(0, 0, 0, 0.8);
      font-weight: 500;
      
      // Only apply dark text in light mode
      @media (prefers-color-scheme: dark) {
        color: rgba(255, 255, 255, 0.9);
        box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.2);
      }
      
      // Also honor the data-theme attribute
      [data-theme="dark"] & {
        color: rgba(255, 255, 255, 0.9);
        box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.2);
      }
      
      &:hover {
        filter: brightness(1.1);
        box-shadow: 0 0 3px rgba(0, 0, 0, 0.2);
        
        @media (prefers-color-scheme: dark) {
          box-shadow: 0 0 3px rgba(255, 255, 255, 0.3);
        }
        
        [data-theme="dark"] & {
          box-shadow: 0 0 3px rgba(255, 255, 255, 0.3);
        }
      }
    }
  }
}
